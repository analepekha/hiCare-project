{"version":3,"sources":["js/orderForm.js"],"names":["document","addEventListener","form","getElementById","notify","event","preventDefault","response","fetch","target","action","method","body","FormData","ok","status","contentType","headers","get","includes","json","reset","classList","remove","add","innerHTML","error"],"mappings":";AAAAA,SAASC,iBAAiB,mBAAoB,WAC5C,MAAMC,EAAOF,SAASG,eAAe,cAC/BC,EAASJ,SAASG,eAAe,gBACvCD,EAAKD,iBAAiB,SAEtB,eAA+BI,GAC7BA,EAAMC,iBACN,IAEE,MAAMC,QAAiBC,MAAMH,EAAMI,OAAOC,OAAQ,CAChDC,OAAQ,OACRC,KAAM,IAAIC,SAASR,EAAMI,UAG3B,IAAKF,EAASO,GAAI,wCAAyCP,EAASQ,SAEpE,MAAMC,EAAcT,EAASU,QAAQC,IAAI,gBACzC,IAAKF,IAAgBA,EAAYG,SAAS,oBACxC,KAAM,kCAGR,GAAIZ,EAASO,GAAI,OACMP,EAASa,OAC9BlB,EAAKmB,QACLjB,EAAOkB,UAAUC,OAAO,eACxBnB,EAAOkB,UAAUE,IAAI,WACrBpB,EAAOqB,UAAY,uCAMnBrB,EAAOkB,UAAUC,OAAO,eACxBnB,EAAOkB,UAAUE,IAAI,WACrBpB,EAAOqB,UAAY,2BAErB,MAAOC,GAEPtB,EAAOkB,UAAUC,OAAO,eACxBnB,EAAOkB,UAAUE,IAAI,WACrBpB,EAAOqB,UAAY","file":"orderForm.e24e709e.js","sourceRoot":"../src","sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\n  const form = document.getElementById('form-order');\n  const notify = document.getElementById('order-status');\n  form.addEventListener('submit', submitOrderForm);\n\n  async function submitOrderForm(event) {\n    event.preventDefault(); // отключаем перезагрузку/перенаправление страницы\n    try {\n      // Формируем запрос\n      const response = await fetch(event.target.action, {\n        method: 'POST',\n        body: new FormData(event.target),\n      });\n      // проверяем, что ответ есть\n      if (!response.ok) throw `Ошибка при обращении к серверу: ${response.status}`;\n      // проверяем, что ответ действительно JSON\n      const contentType = response.headers.get('content-type');\n      if (!contentType || !contentType.includes('application/json')) {\n        throw 'Ошибка обработки. Ответ не JSON';\n      }\n      // обрабатываем запрос\n      if (response.ok) {\n        const result = await response.json();\n        form.reset();\n        notify.classList.remove('form-status');\n        notify.classList.add('_status');\n        notify.innerHTML = 'Дякуємо! Ваш запит відправлений';\n        // в случае успеха\n        // alert(result.message);\n      } else {\n        // в случае ошибки\n        // alert('помилка');\n        notify.classList.remove('form-status');\n        notify.classList.add('_status');\n        notify.innerHTML = 'Упс... Щось пішло не так';\n      }\n    } catch (error) {\n      // обработка ошибки\n      notify.classList.remove('form-status');\n      notify.classList.add('_status');\n      notify.innerHTML = 'Упс... Щось пішло не так';\n      // alert(error);\n    }\n  }\n});\n"]}